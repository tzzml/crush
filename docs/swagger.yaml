definitions:
  models.AssistantMessage:
    properties:
      agent:
        type: string
      cost:
        type: number
      finish:
        type: string
      id:
        type: string
      modelID:
        type: string
      parentID:
        type: string
      providerID:
        type: string
      role:
        description: '"assistant"'
        type: string
      sessionID:
        type: string
      time:
        $ref: '#/definitions/models.MessageTime'
      tokens:
        $ref: '#/definitions/models.TokenInfo'
    type: object
  models.CacheTokenInfo:
    properties:
      read:
        type: integer
      write:
        type: integer
    type: object
  models.ConfigResponse:
    properties:
      configured:
        type: boolean
      data_dir:
        type: string
      debug:
        type: boolean
      providers:
        items:
          $ref: '#/definitions/models.ProviderInfo'
        type: array
      working_dir:
        type: string
    type: object
  models.CreateProjectRequest:
    properties:
      data_dir:
        type: string
      path:
        type: string
    type: object
  models.CreateProjectResponse:
    properties:
      project:
        $ref: '#/definitions/models.ProjectResponse'
    type: object
  models.CreateSessionRequest:
    properties:
      title:
        type: string
    type: object
  models.CreateSessionResponse:
    properties:
      session:
        $ref: '#/definitions/models.SessionResponse'
    type: object
  models.CurrentProjectResponse:
    properties:
      project:
        $ref: '#/definitions/models.ProjectResponse'
    type: object
  models.DisposeAllResponse:
    properties:
      disposed_count:
        type: integer
      projects:
        items:
          type: string
        type: array
      status:
        type: string
    type: object
  models.DisposeProjectResponse:
    properties:
      message:
        type: string
      project_path:
        type: string
      status:
        type: string
    type: object
  models.FileContentResponse:
    properties:
      content:
        type: string
      encoding:
        description: '"utf8", "base64" for images'
        type: string
      is_binary:
        type: boolean
      limit:
        type: integer
      lines:
        description: 行数（如果是文本文件）
        type: integer
      offset:
        type: integer
      path:
        type: string
    type: object
  models.FileInfo:
    properties:
      children:
        items:
          $ref: '#/definitions/models.FileInfo'
        type: array
      mod_time:
        type: string
      mode:
        type: string
      name:
        type: string
      path:
        type: string
      size:
        type: integer
      type:
        description: '"file" or "directory"'
        type: string
    type: object
  models.FileListResponse:
    properties:
      count:
        type: integer
      files:
        items:
          $ref: '#/definitions/models.FileInfo'
        type: array
      path:
        type: string
    type: object
  models.GetSystemPromptResponse:
    properties:
      is_custom:
        description: IsCustom 是否为自定义提示词（非空表示已自定义）
        type: boolean
      length:
        description: Length 系统提示词的字符数
        type: integer
      system_prompt:
        description: SystemPrompt 当前的系统提示词内容
        type: string
    type: object
  models.GitFileStatus:
    properties:
      old_path:
        description: for renamed files
        type: string
      path:
        type: string
      status:
        description: '"modified", "added", "deleted", "renamed", "untracked"'
        type: string
    type: object
  models.GitStatusResponse:
    properties:
      branch:
        type: string
      deleted:
        items:
          $ref: '#/definitions/models.GitFileStatus'
        type: array
      head:
        type: string
      is_clean:
        type: boolean
      modified:
        items:
          $ref: '#/definitions/models.GitFileStatus'
        type: array
      staged:
        items:
          $ref: '#/definitions/models.GitFileStatus'
        type: array
      untracked:
        items:
          $ref: '#/definitions/models.GitFileStatus'
        type: array
    type: object
  models.LSPStatus:
    properties:
      id:
        type: string
      name:
        type: string
      root:
        type: string
      status:
        description: '"connected" or "error"'
        type: string
    type: object
  models.MCPStatus:
    additionalProperties: true
    type: object
  models.MessageDetailResponse:
    properties:
      message:
        $ref: '#/definitions/models.MessageResponse'
    type: object
  models.MessageResponse:
    properties:
      content:
        type: string
      created_at:
        type: integer
      finish_reason:
        type: string
      finished_at:
        type: integer
      id:
        type: string
      is_summary_message:
        type: boolean
      model:
        type: string
      parts:
        items:
          additionalProperties: true
          type: object
        type: array
      provider:
        type: string
      role:
        type: string
      session_id:
        type: string
      updated_at:
        type: integer
    type: object
  models.MessageTime:
    properties:
      completed:
        type: integer
      created:
        type: integer
    type: object
  models.MessagesResponse:
    properties:
      messages:
        items:
          $ref: '#/definitions/models.MessageResponse'
        type: array
      total:
        type: integer
    type: object
  models.ModelSpec:
    properties:
      modelID:
        type: string
      providerID:
        type: string
    type: object
  models.PermissionReplyRequest:
    properties:
      granted:
        type: boolean
      persistent:
        type: boolean
    type: object
  models.PermissionRequest:
    properties:
      action:
        type: string
      description:
        type: string
      id:
        type: string
      params: {}
      path:
        type: string
      session_id:
        type: string
      tool_call_id:
        type: string
      tool_name:
        type: string
    type: object
  models.PermissionsResponse:
    properties:
      pending:
        items:
          $ref: '#/definitions/models.PermissionRequest'
        type: array
      skip_requests:
        type: boolean
    type: object
  models.ProjectResponse:
    properties:
      data_dir:
        type: string
      last_accessed:
        type: string
      path:
        type: string
    type: object
  models.ProjectsResponse:
    properties:
      projects:
        items:
          $ref: '#/definitions/models.ProjectResponse'
        type: array
    type: object
  models.PromptRequest:
    properties:
      agent:
        type: string
      messageID:
        type: string
      model:
        $ref: '#/definitions/models.ModelSpec'
      noReply:
        type: boolean
      parts:
        items: {}
        type: array
      system:
        type: string
      tools:
        additionalProperties:
          type: boolean
        type: object
    type: object
  models.PromptResponse:
    properties:
      info:
        $ref: '#/definitions/models.AssistantMessage'
      parts:
        items: {}
        type: array
    type: object
  models.ProviderInfo:
    properties:
      configured:
        type: boolean
      name:
        type: string
      type:
        type: string
    type: object
  models.SSEEvent:
    properties:
      properties:
        description: Properties 字段包含了事件的具体数据。其结构取决于 Type 字段。
      type:
        description: Type 字段指示事件的类型，例如 "message.created", "session.updated" 等。
        type: string
    type: object
  models.SearchResponse:
    properties:
      count:
        type: integer
      query:
        type: string
      results:
        items:
          $ref: '#/definitions/models.SearchResultItem'
        type: array
    type: object
  models.SearchResultItem:
    properties:
      content:
        type: string
      line:
        type: integer
      match_end:
        type: integer
      match_start:
        type: integer
      path:
        type: string
    type: object
  models.SessionDetailResponse:
    properties:
      session:
        $ref: '#/definitions/models.SessionResponse'
    type: object
  models.SessionResponse:
    properties:
      completion_tokens:
        type: integer
      cost:
        type: number
      created_at:
        type: integer
      id:
        type: string
      message_count:
        type: integer
      parent_session_id:
        type: string
      prompt_tokens:
        type: integer
      summary_message_id:
        type: string
      title:
        type: string
      todos:
        items:
          $ref: '#/definitions/models.TodoResponse'
        type: array
      updated_at:
        type: integer
    type: object
  models.SessionsResponse:
    properties:
      sessions:
        items:
          $ref: '#/definitions/models.SessionResponse'
        type: array
      total:
        type: integer
    type: object
  models.TodoResponse:
    properties:
      active_form:
        type: string
      content:
        type: string
      status:
        type: string
    type: object
  models.TokenInfo:
    properties:
      cache:
        $ref: '#/definitions/models.CacheTokenInfo'
      input:
        type: integer
      output:
        type: integer
      reasoning:
        type: integer
    type: object
  models.UpdateSessionRequest:
    properties:
      title:
        type: string
    type: object
  models.UpdateSessionResponse:
    properties:
      session:
        $ref: '#/definitions/models.SessionResponse'
    type: object
  models.UpdateSystemPromptRequest:
    properties:
      system_prompt:
        description: SystemPrompt 新的系统提示词内容
        type: string
    required:
    - system_prompt
    type: object
  models.UpdateSystemPromptResponse:
    properties:
      message:
        description: Message 操作结果消息（可选）
        type: string
      success:
        description: Success 是否成功更新
        type: boolean
      system_prompt:
        description: SystemPrompt 更新后的系统提示词内容
        type: string
    type: object
info:
  contact: {}
paths:
  /event:
    get:
      consumes:
      - application/json
      description: 订阅项目的实时事件流
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      produces:
      - text/event-stream
      responses:
        "200":
          description: Event stream
          schema:
            $ref: '#/definitions/models.SSEEvent'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: 订阅服务器事件
      tags:
      - Event
  /file:
    get:
      consumes:
      - application/json
      description: 列出指定目录的文件和子目录
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      - description: 子目录路径（相对于项目根目录）
        in: query
        name: path
        type: string
      - description: 是否递归列出（默认 false）
        in: query
        name: recursive
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.FileListResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: 列出目录内容
      tags:
      - File
  /file/content:
    get:
      consumes:
      - application/json
      description: 读取指定文件的内容
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      - description: 文件路径（相对于项目根目录）
        in: query
        name: path
        required: true
        type: string
      - description: 起始行号（可选）
        in: query
        name: offset
        type: integer
      - description: 读取行数限制（可选）
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.FileContentResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: 读取文件内容
      tags:
      - File
  /file/status:
    get:
      consumes:
      - application/json
      description: 获取项目的 Git 状态信息
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.GitStatusResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: 获取 Git 状态
      tags:
      - File
  /find:
    get:
      consumes:
      - application/json
      description: 在项目中搜索文本内容，支持正则表达式
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      - description: 搜索内容
        in: query
        name: query
        required: true
        type: string
      - description: 是否使用正则表达式（默认 false）
        in: query
        name: regex
        type: boolean
      - description: 是否忽略大小写（默认 false）
        in: query
        name: case_insensitive
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.SearchResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: 搜索文本内容
      tags:
      - File
  /find/file:
    get:
      consumes:
      - application/json
      description: 使用通配符模式搜索文件
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      - description: 文件名模式（支持通配符）
        in: query
        name: pattern
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.FileListResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: 搜索文件名
      tags:
      - File
  /global/dispose:
    post:
      consumes:
      - application/json
      description: 释放所有项目的 app 实例以释放资源
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.DisposeAllResponse'
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: 释放所有项目
      tags:
      - Global
  /instance/dispose:
    post:
      consumes:
      - application/json
      description: 释放指定项目的 app 实例以释放资源
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.DisposeProjectResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: 释放实例
      tags:
      - Project
  /lsp:
    get:
      consumes:
      - application/json
      description: 获取所有 LSP 服务器的状态
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LSPStatus'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: 获取 LSP 状态
      tags:
      - LSP
  /mcp:
    get:
      consumes:
      - application/json
      description: 获取所有 Model Context Protocol (MCP) 服务器的状态
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              $ref: '#/definitions/models.MCPStatus'
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: 获取 MCP 状态
      tags:
      - MCP
  /message/{id}:
    get:
      consumes:
      - application/json
      description: 获取指定消息的详细信息
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      - description: 消息ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.MessageDetailResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: 获取消息详情
      tags:
      - Message
  /path:
    get:
      consumes:
      - application/json
      description: 获取当前工作目录和相关路径信息
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: 获取路径信息
      tags:
      - Project
  /project:
    get:
      consumes:
      - application/json
      description: 获取所有已注册的项目
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ProjectsResponse'
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: 获取项目列表
      tags:
      - Project
    post:
      consumes:
      - application/json
      description: 注册一个新项目
      parameters:
      - description: 创建项目请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.CreateProjectRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.CreateProjectResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: 创建项目
      tags:
      - Project
  /project/config:
    get:
      consumes:
      - application/json
      description: 获取指定项目的配置信息
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ConfigResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: 获取项目配置
      tags:
      - Config
  /project/current:
    get:
      consumes:
      - application/json
      description: 获取当前活跃的项目。提供 directory 参数时返回该目录的项目，否则返回最近访问的项目
      parameters:
      - description: 项目路径（可选，不传则返回最近访问的项目）
        in: query
        name: directory
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.CurrentProjectResponse'
        "404":
          description: 没有可用的项目
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 获取当前项目
      tags:
      - Project
  /project/permissions:
    get:
      consumes:
      - application/json
      description: 获取指定项目的权限请求列表
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.PermissionsResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: 获取权限请求列表
      tags:
      - Permission
  /project/permissions/{id}/reply:
    post:
      consumes:
      - application/json
      description: 批准或拒绝特定的权限请求
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      - description: 权限请求ID
        in: path
        name: id
        required: true
        type: string
      - description: 权限回复请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.PermissionReplyRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: 回复权限请求
      tags:
      - Permission
  /session:
    get:
      consumes:
      - application/json
      description: 获取指定项目的所有会话
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.SessionsResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: 获取会话列表
      tags:
      - Session
    post:
      consumes:
      - application/json
      description: 在指定项目中创建新会话
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      - description: 创建会话请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.CreateSessionRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.CreateSessionResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: 创建会话
      tags:
      - Session
  /session/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定的会话及其所有消息
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      - description: 会话ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: 删除会话
      tags:
      - Session
    get:
      consumes:
      - application/json
      description: 获取指定会话的详细信息
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      - description: 会话ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.SessionDetailResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: 获取会话详情
      tags:
      - Session
    put:
      consumes:
      - application/json
      description: 更新指定会话的信息
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      - description: 会话ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新会话请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.UpdateSessionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.UpdateSessionResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: 更新会话
      tags:
      - Session
  /session/{id}/abort:
    post:
      consumes:
      - application/json
      description: 中止指定会话的 AI 处理。注意：当前实现会取消该项目下所有会话的 AI 处理。
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      - description: 会话ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: 中止会话
      tags:
      - Session
  /session/{session_id}/message:
    get:
      consumes:
      - application/json
      description: 获取指定会话的所有消息
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      - description: 会话ID
        in: path
        name: session_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.MessagesResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: 获取消息列表
      tags:
      - Message
  /session/{sessionID}/prompt:
    post:
      consumes:
      - application/json
      description: Create and send a new message to a session using Opencode SDK compatible
        API
      parameters:
      - description: Project path
        in: query
        name: directory
        required: true
        type: string
      - description: Session ID
        in: path
        name: sessionID
        required: true
        type: string
      - description: Prompt request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.PromptRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.PromptResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: Send message (Opencode compatible)
      tags:
      - Session
  /session/status:
    get:
      consumes:
      - application/json
      description: 获取项目的会话状态信息
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: 获取会话状态
      tags:
      - Session
  /system-prompt:
    get:
      consumes:
      - application/json
      description: 获取指定项目当前的系统提示词内容
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.GetSystemPromptResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: 获取系统提示词
      tags:
      - Prompt
    put:
      consumes:
      - application/json
      description: 动态修改指定项目的系统提示词，无需重启服务。更新后立即对后续对话生效。
      parameters:
      - description: 项目路径
        in: query
        name: directory
        required: true
        type: string
      - description: 系统提示词
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.UpdateSystemPromptRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.UpdateSystemPromptResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: 更新系统提示词
      tags:
      - Prompt
swagger: "2.0"
